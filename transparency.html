<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Transparency – WSUA</title>

  <!-- Global Styles -->
  <link rel="stylesheet" href="/assets/css/style.css" />
  <link rel="stylesheet" href="/assets/css/components.css" />

  <!-- Page-Specific Styles -->
  <link rel="stylesheet" href="/assets/css/transparency.css" />

  <link rel="icon" type="image/svg+xml" href="/assets/images/emblem.svg" />
</head>

<body>

  <!-- GLOBAL BACKGROUND -->
  <div class="watermark"></div>
  <div class="vignette"></div>

  <!-- NAVBAR -->
  <nav class="navbar fade-in">
    <div class="nav-left">
      <img src="/assets/images/emblem.svg" class="nav-logo" alt="WSUA Logo" />
      <span class="nav-title">WSUA</span>
    </div>

    <div class="nav-links">
      <a href="/index.html">Home</a>
      <a href="/legal/legal-overview.html">Legal Overview</a>
      <a href="/programs/programs.html">Programs</a>
      <a href="/newsletter.html">Newsletter</a>
      <a href="/about.html">About</a>
      <a href="/donate.html">Donate</a>
      <a href="/transparency.html" class="btn-primary">Transparency</a>
    </div>
  </nav>

  <!-- HERO -->
  <section class="hero small-hero fade-in">
    <div class="hero-bg" style="background-image:url('/assets/images/hero-bg.jpg');"></div>
    <div class="hero-overlay"></div>
    <div class="hero-text-wrapper">
      <h1 class="hero-title">Transparency</h1>
      <p class="hero-subtitle">Radical openness. Public accountability. Every document available.</p>
    </div>
  </section>

  <!-- MAIN CONTENT -->
  <main class="content fade-in">

    <!-- TRANSPARENCY VALUES -->
    <section class="content-section wsua-values">
      <h2>Our Commitment to Transparency</h2>

      <p>
        Western Solidarity With Ukraine Alliance (WSUA) was founded on the belief that humanitarian work must be accountable,
        verifiable, and open to public scrutiny. Transparency is not an optional virtue for us — it is a core operational value.
      </p>

      <ul class="values-list">
        <li><strong>Radical Openness:</strong> All financial reports, donor-source disclosures, and governance documents are made publicly accessible.</li>
        <li><strong>Accountability to Donors:</strong> Every contribution is tracked, documented, and tied to a verifiable program outcome.</li>
        <li><strong>Integrity in Reporting:</strong> We publish receipts, ledgers, and supporting documents without selective omission.</li>
        <li><strong>Ethical Stewardship:</strong> Funds are used solely for mission-aligned humanitarian and advocacy purposes.</li>
        <li><strong>Public Oversight:</strong> Anyone may review our documents, question our allocations, or request clarifications.</li>
      </ul>

      <h3>About U.S. 501(c)(3) Compliance</h3>
      <p>
        WSUA intends to pursue federal 501(c)(3) charitable status. While we are not yet recognized as a 501(c)(3), we voluntarily
        follow widely accepted nonprofit compliance norms, including:
      </p>

      <ul class="values-list">
        <li><strong>Clear Organizational Purpose:</strong> Activities must align with a charitable, educational, or humanitarian mission.</li>
        <li><strong>No Private Benefit:</strong> Funds cannot personally benefit board members, officers, or insiders.</li>
        <li><strong>Accurate Recordkeeping:</strong> Financial records, receipts, and donor information must be maintained and available for review.</li>
        <li><strong>Annual Reporting:</strong> 501(c)(3)s file Form 990-series returns; we prepare our records in anticipation of this requirement.</li>
        <li><strong>Governance Policies:</strong> Conflict-of-interest, whistleblower, and financial controls policies are standard expectations.</li>
        <li><strong>Restrictions on Political Activity:</strong> 501(c)(3)s may not engage in partisan political activity and must limit lobbying.</li>
      </ul>

      <div class="wsua-disclaimer">
        <strong>Disclaimer:</strong><br>
        WSUA is currently <strong>not</strong> recognized as a U.S. 501(c)(3) tax‑exempt organization.<br>
        Donations made at this time are <strong>not tax‑deductible</strong> under U.S. federal law.<br>
        We maintain this Transparency Page to demonstrate our commitment to full accountability as we prepare for future compliance.
      </div>
    </section>

    <!-- AUTO-GENERATED DOCUMENT LIST -->
    <section class="content-section wsua-section">
      <h2>Documents</h2>
      <ul id="auto-documents" class="document-list"></ul>
    </section>

  </main>

  <!-- FOOTER -->
  <footer class="fade-in">
    <p><strong>WSUA - Western Solidarity With Ukraine Alliance</strong></p>
    <p>© 2026 WSUA. All rights reserved.</p>
  </footer>

  <!-- AUTO DOCUMENT SCRIPT -->
  <script>
    async function loadDocuments() {
      const repoOwner = "dscarangelli-hub";
      const repoName = "dscarangelli-hub.github.io";
      const folderPath = "docs";

      const apiUrl = `https://api.github.com/repos/${repoOwner}/${repoName}/contents/${folderPath}`;
      const commitsApi = `https://api.github.com/repos/${repoOwner}/${repoName}/commits?path=${folderPath}`;

      const response = await fetch(apiUrl);
      const files = await response.json();

      const commitResponse = await fetch(commitsApi);
      const commits = await commitResponse.json();

      const container = document.getElementById("auto-documents");

      const iconMap = {
        "pdf": "/assets/icons/pdf-wsua-large.svg",
        "doc": "/assets/icons/docx-wsua-large.svg",
        "docx": "/assets/icons/docx-wsua-large.svg",
        "xlsx": "/assets/icons/xlsx-wsua-large.svg",
        "xls": "/assets/icons/xlsx-wsua-large.svg",
        "csv": "/assets/icons/csv-wsua-large.svg",
        "txt": "/assets/icons/file-wsua-large.svg"
      };

      const categories = {
        "Legal": [],
        "Registration": [],
        "Financial": [],
        "Other": []
      };

      const prettyName = (filename) => {
        return filename
          .replace(/[-_]/g, " ")
          .replace(/\.[^/.]+$/, "")
          .replace(/\b\w/g, c => c.toUpperCase());
      };

      const categorize = (name) => {
        const lower = name.toLowerCase();
        if (lower.includes("article") || lower.includes("bylaw") || lower.includes("policy")) return "Legal";
        if (lower.includes("charities") || lower.includes("registration") || lower.includes("wa cc")) return "Registration";
        if (lower.includes("ledger") || lower.includes("financial") || lower.includes("statement")) return "Financial";
        return "Other";
      };

      const getLastUpdated = (filename) => {
        const commit = commits.find(c => c.files?.some(f => f.filename.endsWith(filename)));
        if (!commit) return "Recently Updated";
        return new Date(commit.commit.author.date).toLocaleDateString();
      };

      const formatSize = (bytes) => {
        if (bytes < 1024) return bytes + " B";
        if (bytes < 1024 * 1024) return (bytes / 1024).toFixed(1) + " KB";
        return (bytes / (1024 * 1024)).toFixed(1) + " MB";
      };

      files.forEach(file => {
        if (file.type !== "file") return;
        if (file.name.toLowerCase().includes("placeholder")) return;

        const ext = file.name.split(".").pop().toLowerCase();
        const icon = iconMap[ext] || "/assets/icons/file-wsua-large.svg";

        const title = prettyName(file.name);
        const size = formatSize(file.size);
        const updated = getLastUpdated(file.name);
        const category = categorize(file.name);

        const item = document.createElement("li");
        item.className = "document";

        item.innerHTML = `
          <img src="${icon}" class="doc-icon" alt="File icon">
          <div class="doc-info">
            <a href="/docs/${file.name}" class="doc-title">${title}</a>
            <p class="doc-meta">${ext.toUpperCase()} • ${size} • Updated ${updated}</p>
          </div>
        `;

        categories[category].push(item);
      });

      Object.keys(categories).forEach(cat => {
        if (categories[cat].length === 0) return;

        const header = document.createElement("h3");
        header.textContent = cat;
        header.style.marginTop = "2rem";

        container.appendChild(header);

        categories[cat].forEach(item => container.appendChild(item));
      });
    }

    loadDocuments();
  </script>

</body>
</html>
